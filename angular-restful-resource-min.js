/**
 * @license Andrew Brown v1.0.0
 * (c) 2013 http://monsterboxpro.com
 * License: MIT
 */
var __bind=function(a,b){return function(){return a.apply(b,arguments)}},__slice=[].slice;window.Restful=function(){function a(){this.path=__bind(this.path,this),this.destroy=__bind(this.destroy,this),this.update=__bind(this.update,this),this.edit=__bind(this.edit,this),this.create=__bind(this.create,this),this["new"]=__bind(this["new"],this),this.show=__bind(this.show,this),this.index=__bind(this.index,this),this._callback=__bind(this._callback,this),this._delete=__bind(this._delete,this),this._put=__bind(this._put,this),this._post=__bind(this._post,this),this._get=__bind(this._get,this);var a=this;_.each(this.collection,function(b,c){var d,e;return e=a.path(c),d=function(){var a=this;switch(b){case"get":return function(b){return a._get(c,e,b)};case"post":return function(b){return a._post(c,e,b)};case"put":return function(b){return a._put(c,e,b)};case"destroy":return function(b){return a._delete(c,e,b)}}}.call(a),a[c]=d}),_.each(this.member,function(b,c){var d,e;return e=a.path(c),d=function(){var a=this;switch(b){case"get":return function(b,d){return a._get(c,a.path(b,c),d)};case"post":return function(b,d){return a._post(c,a.path(b,c),d)};case"put":return function(b,d){return a._put(c,a.path(b,c),d)};case"destroy":return function(b,d){return a._delete(c,a.path(b,c),d)}}}.call(a),a[c]=d})}return a.prototype._get=function(a,b,c){var d,e;return null==c&&(c={}),d=""+a+"_"+this.table_name,e=this.$http({method:"GET",url:b,params:c}),this._callback(e,d)},a.prototype._post=function(a,b,c){var d,e;return null==c&&(c={}),d=""+a+"_"+this.table_name,e=this.$http.post(b,c),this._callback(e,d)},a.prototype._put=function(a,b,c){var d,e;return d=""+a+"_"+this.table_name,e=this.$http.put(b,c),this._callback(e,d)},a.prototype._delete=function(a,b,c){var d,e;return null==c&&(c={}),d=""+a+"_"+this.table_name,e=this.$http["delete"](b,c),this._callback(e,d)},a.prototype._callback=function(a,b){var c=this;return a.success(function(a){return c.$rootScope.$broadcast(b,a)}),a.error(function(a){return c.$rootScope.$broadcast(""+b+"_err",a)})},a.prototype.index=function(a){var b,c;return b="index",c=this.path(),this._get(b,c,a)},a.prototype.show=function(a,b){var c,d;return c="show",d=this.path(a.id),this._get(c,d,b)},a.prototype["new"]=function(a){var b,c;return b="new",c=this.path(b),this._get(b,c,a)},a.prototype.create=function(a,b){var c,d;return c="create",d=this.path(),this._post(c,d,b)},a.prototype.edit=function(a,b){var c,d;return c="edit",d=this.path(a.id,c),this._get(c,d,b)},a.prototype.update=function(a,b){var c,d;return c="update",d=this.path(a.id),this._put(c,d,b)},a.prototype.destroy=function(a,b){var c,d;return c="destroy",d=this.path(a.id),this._delete(c,d,b)},a.prototype.path=function(){var a,b,c,d,e;for(b=arguments.length>=1?__slice.call(arguments,0):[],c=[],this.namespace&&c.push(this.namespace),c.push(this.table_name),d=0,e=b.length;e>d;d++)a=b[d],c.push(a);return c=c.join("/"),"/"+c},a}();
