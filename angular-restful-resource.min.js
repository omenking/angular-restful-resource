(function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=[].slice;window.Restful=function(){function i(){this.path=t(this.path,this),this.destroy=t(this.destroy,this),this.update=t(this.update,this),this.edit=t(this.edit,this),this.create=t(this.create,this),this["new"]=t(this["new"],this),this.show=t(this.show,this),this.index=t(this.index,this),this._extract_id=t(this._extract_id,this),this._callback=t(this._callback,this),this._delete=t(this._delete,this),this._put=t(this._put,this),this._post=t(this._post,this),this._get=t(this._get,this);var e,i,r,n,s,h;s=this.collection;for(e in s)r=s[e],n=this.path(e),i=function(){var t=this;switch(r){case"get":return function(i,r){return t._get(e,n,i,r)};case"post":return function(i,r){return t._post(e,n,i,r)};case"put":return function(i,r){return t._put(e,n,i,r)};case"destroy":return function(i,r){return t._delete(e,n,i,r)}}}.call(this),this[e]=i;h=this.member;for(e in h)r=h[e],i=function(){var t=this;switch(r){case"get":return function(i,r,n){return t._get(e,t.path(i.id,e),r,n)};case"post":return function(i,r,n){return t._post(e,t.path(i.id,e),r,n)};case"put":return function(i,r,n){return t._put(e,t.path(i.id,e),r,n)};case"destroy":return function(i,r,n){return t._delete(e,t.path(i.id,e),r,n)}}}.call(this),this[e]=i}return i.prototype._get=function(t,e,i,r){var n;return null==i&&(i={}),null==r&&(r={}),n=this.$http({method:"GET",url:e,params:i}),this._callback(n,t,r)},i.prototype._post=function(t,e,i,r){var n;return null==i&&(i={}),null==r&&(r={}),n=this.$http.post(e,i),this._callback(n,t,r)},i.prototype._put=function(t,e,i,r){var n;return null==r&&(r={}),n=this.$http.put(e,i),this._callback(n,t,r)},i.prototype._delete=function(t,e,i,r){var n;return null==i&&(i={}),null==r&&(r={}),n=this.$http({method:"DELETE",url:e,params:i}),this._callback(n,t,r)},i.prototype._callback=function(t,e,i){var r,n=this;return r=""+this.table_name+"/"+e,t.success(function(t){return n.$rootScope.$broadcast(r,t,i)}),t.error(function(t){return n.$rootScope.$broadcast(""+r+"#err",t,i)})},i.prototype._extract_id=function(t){return typeof t===String||typeof t===Number?t:t.id},i.prototype.index=function(t,e){var i,r;return null==e&&(e={}),i="index",r=this.path(),this._get(i,r,t,e)},i.prototype.show=function(t,e,i){var r,n,s;return null==i&&(i={}),r="show",n=this._extract_id(t),s=this.path(n),this._get(r,s,e,i)},i.prototype["new"]=function(t,e){var i,r;return null==e&&(e={}),i="new",r=this.path(i),this._get(i,r,t,e)},i.prototype.create=function(t,e){var i,r;return null==e&&(e={}),i="create",r=this.path(),this._post(i,r,t,e)},i.prototype.edit=function(t,e,i){var r,n,s;return null==i&&(i={}),r="edit",n=this._extract_id(t),s=this.path(n,r),this._get(r,s,e,i)},i.prototype.update=function(t,e,i){var r,n,s;return null==i&&(i={}),r="update",n=this._extract_id(t),s=this.path(n),this._put(r,s,e,i)},i.prototype.destroy=function(t,e,i){var r,n,s;return null==i&&(i={}),r="destroy",n=this._extract_id(t),s=this.path(n),this._delete(r,s,e,i)},i.prototype.path=function(){var t,i,r,n,s;for(i=1<=arguments.length?e.call(arguments,0):[],r=[],this.namespace&&r.push(this.namespace),r.push(this.table_name),n=0,s=i.length;s>n;n++)t=i[n],r.push(t);return r=r.join("/"),"/"+r},i}()}).call(this);