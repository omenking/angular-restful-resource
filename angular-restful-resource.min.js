(function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=[].slice;window.Restful=function(){function i(){this.path=t(this.path,this),this.destroy=t(this.destroy,this),this.update=t(this.update,this),this.edit=t(this.edit,this),this.create=t(this.create,this),this["new"]=t(this["new"],this),this.show=t(this.show,this),this.index=t(this.index,this),this._callback=t(this._callback,this),this._delete=t(this._delete,this),this._put=t(this._put,this),this._post=t(this._post,this),this._get=t(this._get,this);var e,i,n,r,s,h;s=this.collection;for(e in s)n=s[e],r=this.path(e),i=function(){var t=this;switch(n){case"get":return function(i,n){return t._get(e,r,i,n)};case"post":return function(i,n){return t._post(e,r,i,n)};case"put":return function(i,n){return t._put(e,r,i,n)};case"destroy":return function(i,n){return t._delete(e,r,i,n)}}}.call(this),this[e]=i;h=this.member;for(e in h)n=h[e],i=function(){var t=this;switch(n){case"get":return function(i,n,r){return t._get(e,t.path(i.id,e),n,r)};case"post":return function(i,n,r){return t._post(e,t.path(i.id,e),n,r)};case"put":return function(i,n,r){return t._put(e,t.path(i.id,e),n,r)};case"destroy":return function(i,n,r){return t._delete(e,t.path(i.id,e),n,r)}}}.call(this),this[e]=i}return i.prototype._get=function(t,e,i,n){var r;return null==i&&(i={}),null==n&&(n={}),r=this.$http({method:"GET",url:e,params:i}),this._callback(r,msg,n)},i.prototype._post=function(t,e,i,n){var r;return null==i&&(i={}),null==n&&(n={}),r=this.$http.post(e,i),this._callback(r,t,n)},i.prototype._put=function(t,e,i,n){var r;return null==n&&(n={}),r=this.$http.put(e,i),this._callback(r,t,n)},i.prototype._delete=function(t,e,i,n){var r;return null==i&&(i={}),null==n&&(n={}),r=this.$http({method:"DELETE",url:e,params:i}),this._callback(r,t,n)},i.prototype._callback=function(t,e,i){var n,r=this;return n=""+this.table_name+"/"+e,t.success(function(t){return r.$rootScope.$broadcast(n,t,i)}),t.error(function(t){return r.$rootScope.$broadcast(""+n+"#err",t,i)})},i.prototype.index=function(t,e){var i,n;return null==e&&(e={}),i="index",n=this.path(),this._get(i,n,t,e)},i.prototype.show=function(t,e,i){var n,r;return null==i&&(i={}),n="show",r=this.path(t.id),this._get(n,r,e,i)},i.prototype["new"]=function(t,e){var i,n;return null==e&&(e={}),i="new",n=this.path(i),this._get(i,n,t,e)},i.prototype.create=function(t,e){var i,n;return null==e&&(e={}),i="create",n=this.path(),this._post(i,n,t,e)},i.prototype.edit=function(t,e,i){var n,r;return null==i&&(i={}),n="edit",r=this.path(t.id,n),this._get(n,r,e,i)},i.prototype.update=function(t,e,i){var n,r;return null==i&&(i={}),n="update",r=this.path(t.id),this._put(n,r,e,i)},i.prototype.destroy=function(t,e,i){var n,r;return null==i&&(i={}),n="destroy",r=this.path(t.id),this._delete(n,r,e,i)},i.prototype.path=function(){var t,i,n,r,s;for(i=1<=arguments.length?e.call(arguments,0):[],n=[],this.namespace&&n.push(this.namespace),n.push(this.table_name),r=0,s=i.length;s>r;r++)t=i[r],n.push(t);return n=n.join("/"),"/"+n},i}()}).call(this);