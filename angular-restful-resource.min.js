(function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=[].slice;window.Restful=function(){function n(){this.path=t(this.path,this),this.destroy=t(this.destroy,this),this.update=t(this.update,this),this.edit=t(this.edit,this),this.create=t(this.create,this),this["new"]=t(this["new"],this),this.show=t(this.show,this),this.index=t(this.index,this),this._callback=t(this._callback,this),this._delete=t(this._delete,this),this._put=t(this._put,this),this._post=t(this._post,this),this._get=t(this._get,this);var e=this;_.each(this.collection,function(t,n){var r,i;return i=e.path(n),r=function(){var e=this;switch(t){case"get":return function(t,r){return e._get(n,i,t,r)};case"post":return function(t,r){return e._post(n,i,t,r)};case"put":return function(t,r){return e._put(n,i,t,r)};case"destroy":return function(t,r){return e._delete(n,i,t,r)}}}.call(e),e[n]=r}),_.each(this.member,function(t,n){var r;return r=function(){var e=this;switch(t){case"get":return function(t,r,i){return e._get(n,e.path(t.id,n),r,i)};case"post":return function(t,r,i){return e._post(n,e.path(t.id,n),r,i)};case"put":return function(t,r,i){return e._put(n,e.path(t.id,n),r,i)};case"destroy":return function(t,r,i){return e._delete(n,e.path(t.id,n),r,i)}}}.call(e),e[n]=r})}return n.prototype._get=function(t,e,n,r){var i,s;return null==n&&(n={}),null==r&&(r={}),i=""+t+"_"+this.table_name,s=this.$http({method:"GET",url:e,params:n}),this._callback(s,i,r)},n.prototype._post=function(t,e,n,r){var i,s;return null==n&&(n={}),null==r&&(r={}),i=""+t+"_"+this.table_name,s=this.$http.post(e,n),this._callback(s,i,r)},n.prototype._put=function(t,e,n,r){var i,s;return null==r&&(r={}),i=""+t+"_"+this.table_name,s=this.$http.put(e,n),this._callback(s,i,r)},n.prototype._delete=function(t,e,n,r){var i,s;return null==n&&(n={}),null==r&&(r={}),i=""+t+"_"+this.table_name,s=this.$http({method:"DELETE",url:e,params:n}),this._callback(s,i,r)},n.prototype._callback=function(t,e,n){var r=this;return t.success(function(t){return r.$rootScope.$broadcast(e,t,n)}),t.error(function(t){return r.$rootScope.$broadcast(""+e+"_err",t,n)})},n.prototype.index=function(t,e){var n,r;return null==e&&(e={}),n="index",r=this.path(),this._get(n,r,t,e)},n.prototype.show=function(t,e,n){var r,i;return null==n&&(n={}),r="show",i=this.path(t.id),this._get(r,i,e,n)},n.prototype["new"]=function(t,e){var n,r;return null==e&&(e={}),n="new",r=this.path(n),this._get(n,r,t,e)},n.prototype.create=function(t,e){var n,r;return null==e&&(e={}),n="create",r=this.path(),this._post(n,r,t,e)},n.prototype.edit=function(t,e,n){var r,i;return null==n&&(n={}),r="edit",i=this.path(t.id,r),this._get(r,i,e,n)},n.prototype.update=function(t,e,n){var r,i;return null==n&&(n={}),r="update",i=this.path(t.id),this._put(r,i,e,n)},n.prototype.destroy=function(t,e,n){var r,i;return null==n&&(n={}),r="destroy",i=this.path(t.id),this._delete(r,i,e,n)},n.prototype.path=function(){var t,n,r,i,s;for(n=1<=arguments.length?e.call(arguments,0):[],r=[],this.namespace&&r.push(this.namespace),r.push(this.table_name),i=0,s=n.length;s>i;i++)t=n[i],r.push(t);return r=r.join("/"),"/"+r},n}()}).call(this);